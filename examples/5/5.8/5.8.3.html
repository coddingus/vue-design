<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>如何代理 Set 和 Map - 避免污染原始数据</title>
</head>

<body>

</body>
<script src="./js/effect.js"></script>
<script src="./js/reactive.js"></script>
<script>
    // const p = reactive(new Map([['key', 1]]))
    // console.log(p)
    // effect(() => {
    //     console.log(p.get('key'))
    // })
    // p.set('key', 2) // 触发响
    // const {reactive,effect} = Vue
    const m = new Map()
    const p1 = reactive(m)
    const p2 = reactive(new Map())

    p1.set('p2', p2)
    
    effect(() => {
        console.log(m.get('p2').size)
    })
    m.get('p2').set('foo', 1)
</script>

</html>